<div class="container mt-3">

    <div class="alldiv">
        <section class="barra border p-3 ">

            <div class="me-3">
                <p class="textcolorcorp">Filtros de búsqueda</p>
                <!--
                <p class="m-0 p-0">- <span class="requerido">Delivery</span> </p>
                <div>
                  <input type="text" class="form-control" [(ngModel)]="delivery.name"  disabled>
                </div>
                -->

                <p class="m-0 p-0 mt-1">- <span class="requerido">Código Barras:</span> </p>
                <div>
                    <input type="text" class="form-control form-control-sm">
                </div>


                <p class="m-0 p-0 mt-2">- Descripción Artículo:</p>
                <div>
                    <input type="text" class="form-control form-control-sm">
                </div>
                <!--
                <p class="m-0 p-0 mt-1">- Código Clasificación:</p>
                <div>
                  <input type="text" class="form-control form-control-sm">
                </div>
        
                <p class="m-0 p-0 mt-1">- Descripción Clasificación:</p>
                <div class="pb-5">
                  <input type="text" class="form-control form-control-sm">
                </div>
                -->

                <div class="mt-2 d-flex flex-row-reverse">
                    <button class="btn btn-danger" (click)="loadArticulos()">Buscar</button>
                </div>
            </div>


        </section>
        <section class="main border">


            <p-table [value]="articulos" responsiveLayout="scroll" *ngIf="articulos.length>0">
                <ng-template pTemplate="header">
                    <tr>
                        <th>Nro</th>
                        <th>Código Barras</th>
                        <th>Descripción</th>
                        <th>Acciones</th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-product>
                    <tr>
                        <td>{{articulos.indexOf(product)+1}}</td>
                        <td>{{product.codbarra}}</td>
                        <td>{{product.descripcion}}</td>
                        <td class="d-flex">
                            <button class="btn btn-sm btn-outline-primary" (click)="gotoEdit(product)">
                                <i class="fa fa-eye"></i>
                            </button>
                            <button class="btn btn-sm btn-outline-primary" (click)="showEdit(product)">
                                <i class="fa fa-edit"></i>
                            </button>
                        </td>
                    </tr>
                </ng-template>
            </p-table>


            <p-dialog header="Detalle artículo" [(visible)]="isShowModalView" [style]="{width: '70vw'}">
                <div>
                    <app-feature [codbarra]="artsel.codbarra"></app-feature>
                </div>
                <ng-template pTemplate="footer">
                    <button class="btn btn-danger" (click)="closeView()">Cerrar <span class="pi pi-times"></span>
                    </button>
                </ng-template>
            </p-dialog>

            <p-dialog header="Detalle artículo" [(visible)]="isShowModalEdit" [style]="{width: '70vw'}">
                <div>
                    <app-feature-edit [codbarra]="artsel.codbarra"></app-feature-edit>
                </div>
                <ng-template pTemplate="footer">
                    <button class="btn btn-success" (click)="closeEdit()">Guardar <span
                            class="pi pi-save"></span></button>
                    <button class="btn btn-danger" (click)="closeEdit()">Cerrar <span class="pi pi-times"></span>
                    </button>
                </ng-template>
            </p-dialog>

            <p-dialog header="Nueva Característica" [(visible)]="isShowModalNewFeature" [style]="{width: '50vw'}">
                <div>
                    <app-newfeature> </app-newfeature>
                </div>
                <ng-template pTemplate="footer">
                    <button class="btn btn-success" (click)="closeNewFeature()">Guardar <span
                            class="pi pi-save"></span></button>
                    <button class="btn btn-danger" (click)="closeNewFeature()">Cerrar <span
                            class="pi pi-times"></span></button>
                </ng-template>
            </p-dialog>

            <p-dialog header="Cargar artículos" [(visible)]="isShowModalCarga" [style]="{width: '50vw'}">
                <div>

                    <p-fileUpload name="demo[]" url="./upload.php" (onUpload)="onUpload($event)"
                        [multiple]="uploadSetting.multiple" accept="image/*" [maxFileSize]="uploadSetting.maxFileSize">
                        <ng-template pTemplate="content">
                            <ul *ngIf="uploadedFiles.length">
                                <li *ngFor="let file of uploadedFiles">{{file.name}} - {{file.size}} bytes</li>
                            </ul>
                        </ng-template>
                    </p-fileUpload>
                    <div class="w-100">
                        <div class="d-flex">
                            <div class="card w-50">
                                <div class="card-header">
                                    Tipo de Carga
                                </div>
                                <div class="card-body">
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" name="flexRadioDefault"
                                            id="flexRadioDefault2" checked>
                                        <label class="form-check-label" for="flexRadioDefault2">
                                            Agregar
                                        </label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" name="flexRadioDefault"
                                            id="flexRadioDefault1">
                                        <label class="form-check-label" for="flexRadioDefault1">
                                            Reemplazar
                                        </label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" name="flexRadioDefault"
                                            id="flexRadioDefault1">
                                        <label class="form-check-label" for="flexRadioDefault1">
                                            Inactivar
                                        </label>
                                    </div>
                                </div>
                            </div>
                            <div class="card w-50">
                                <div class="card-header">
                                    Empresas Delivery
                                </div>
                                <div class="card-body">
                                    <p-multiSelect [options]="tags" [(ngModel)]="selectedTags" defaultLabel="Seleccione delivery" optionLabel="name" selectedItemsLabel="{0} items selected"></p-multiSelect>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <ng-template pTemplate="footer">
                    <button class="btn btn-success" (click)="closeCarga()">Guardar <span
                            class="pi pi-save"></span></button>
                    <button class="btn btn-danger" (click)="closeCarga()">Cancelar <span
                            class="pi pi-times"></span></button>
                </ng-template>

            </p-dialog>

        </section>

    </div>



</div>